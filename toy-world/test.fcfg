% start S
############################
# Grammar Rules  
#############################

S[SEM = <?subj(?vp)>] -> NP[NUM=?n,SEM=?subj] VP[NUM=?n,SEM=?vp]

NP[NUM=?num,SEM=<?det(?n,?nn)> ] -> Det[NUM=?num,SEM=?det] N[NUM=?num,SEM=?n] N[NUM=?num,SEM=?n]
NP[NUM=?n,SEM=<?nom(?nom)> ] -> Nom[NUM=?n,SEM=?nom]  Nom[NUM=?n,SEM=?nom]
NP[LOC=?l,NUM=?n,SEM=?np] -> PropN[LOC=?l,NUM=?n,SEM=?np]
NP[NUM=?n,SEM=?np] -> N[NUM=?n,SEM=?np]

# Nom[NUM=?n,SEM=?nom] -> N[NUM=?n,SEM=?nom]

VP[NUM=?n,SEM=?v] -> IV[NUM=?n,SEM=?v]
VP[NUM=?n,SEM=<?v(?obj)>] -> TV[NUM=?n,SEM=?v] NP[SEM=?obj]
VP[NUM=?n,SEM=<?v(?obj,?pp)>] -> DTV[NUM=?n,SEM=?v] NP[SEM=?obj] PP[+TO,SEM=?pp]

PP[+TO, SEM=?np] -> P[+TO] NP[SEM=?np]

#############################
# Lexical Rules
#############################

PropN[-LOC, NUM=sg, SEM=<\P.P(joe)>] -> 'joe'
TV[NUM=sg, SEM=<\X x.X(\y.like(x,y))>, TNS=pres] -> 'likes'
DET[NUM=sg, SEM=<\P.exists y.(game(y) & P(y))>] -> 'the'
N[NUM=sg, SEM=<\x.game(x)>] -> 'game'
N[NUM=sg, SEM=<\x.chess(x)>] -> 'chess'